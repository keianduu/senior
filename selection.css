@charset "UTF-8";

/* ==========================================================================
   1. 変数定義 & 基本設定 (Variables & Base)
   ========================================================================== */
:root {
    --gold-main: #C5A059;       /* 落ち着いたゴールド */
    --gold-light: #F2EBD9;      /* 薄いゴールド（背景用） */
    --brown-text: #4A3B32;      /* 視認性の高いダークブラウン */
    --bg-beige: #FDFBF7;        /* 上質な紙のようなベージュ */
    --bg-white: #FFFFFF;
    --rakuten-red: #BF0000;
    --price-red: #B71C1C;
    --font-serif: "Yu Mincho", "YuMincho", "Hiragino Mincho ProN", serif;
    --font-sans: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", sans-serif;

    /* Font Sizes */
    --fs-7: 8px;
    --fs-8: 8px;
    --fs-9: 12px;
    --fs-10: 14px;
    --fs-11: 14px;
    --fs-12: 14px;
    --fs-13: 14px;
    --fs-14: 14px;
    --fs-15: 18px;
    --fs-16: 18px;
    --fs-18: 18px;
    --fs-20: 20px;
    --fs-24: 24px;
    --fs-28: 28px;
    --fs-32: 32px;
    --fs-36: 36px;
    --fs-50: 50px;
    --fs-60: 60px;
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-sans);
    background-color: var(--bg-beige);
    color: var(--brown-text);
    line-height: 1.6;
    padding-bottom: 80px; /* フッター用余白 */
}

a { text-decoration: none; color: inherit; }
* { box-sizing: border-box; }

/* ==========================================================================
   2. ヘッダー (Header)
   ========================================================================== */
.site-header {
    background: white;
    padding: 12px 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #E0E0E0;
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-back {
    font-size: var(--fs-14);
    color: var(--gold-main);
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 4px;
}

.header-search-btn {
    font-size: var(--fs-12);
    color: #666;
    background: #f5f5f5;
    padding: 6px 12px;
    border-radius: 16px;
}

/* ==========================================================================
   3. ヒーローエリア (Hero Section)
   ========================================================================== */
.hero-banner-v6-cinematic.compact-hero {
    position: relative;
    width: 100%;
    background-color: #f0e6d2; 
    /* 【修正】下パディングを減らして余白を詰める */
    padding: 20px 16px 20px; 
    overflow: hidden;
    border-bottom: none;
    margin-bottom: 24px;
}

/* 背景画像レイヤー */
.hero-banner-v6-cinematic::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    background-image: url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=2670&auto=format&fit=crop');
    background-position: center center;
    background-size: cover;
    filter: blur(8px) brightness(1.1);
    transform: scale(1.1);
}

/* 白レイヤー */
.hero-banner-v6-cinematic::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    background: rgba(255, 255, 255, 0.3);
}

/* コンテンツ配置ラッパー */
.hero-content-v6 {
    position: relative;
    z-index: 1;
    max-width: 580px;
    margin: 0 auto;
}

/* ガラスカード */
.glass-card-v6 {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.8);
    border-radius: 8px;
    padding: 24px 24px;
    text-align: center;
    box-shadow: 0 15px 35px rgba(166, 140, 100, 0.15);
    color: var(--brown-text);
    margin-bottom: 20px;
}

/* ヒーロー内テキスト装飾 */
.hero-header-deco {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 12px;
}
.hero-header-deco .text { 
    color: var(--gold-main);
    letter-spacing: 3px; 
    font-size: var(--fs-10);
    font-weight: bold;
}
.hero-header-deco .line { 
    width: 30px; height: 1px; background: var(--gold-main); opacity: 0.6; 
}

.hero-catch-text {
    font-family: var(--font-serif);
    color: var(--gold-main);
    font-size: var(--fs-14);
    font-weight: bold;
    margin: 0 0 4px 0;
    line-height: 1.4;
}

.hero-title-v6 {
    font-family: var(--font-serif);
    color: var(--brown-text);
    font-size: var(--fs-32);
    text-shadow: none;
    margin-bottom: 16px;
    line-height: 1.4;
    letter-spacing: 0.02em;
}

.hero-desc-v6 {
    color: #665544;
    font-size: var(--fs-12);
    font-weight: normal;
    line-height: 1.6;
    margin-bottom: 20px;
    text-align: justify;
}

/* ヒーロー内ナビゲーション */
.hero-nav-v6 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    border-top: 1px solid rgba(197, 160, 89, 0.2);
    padding-top: 16px;
}

.nav-item-v6 {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    transition: transform 0.2s;
}
.nav-item-v6:hover { transform: translateY(-2px); }

.nav-icon-box {
    font-size: var(--fs-16);
    color: var(--gold-main);
    margin-bottom: 4px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: #FFF;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.nav-text-box .ja {
    font-size: var(--fs-12);
    font-weight: bold;
    color: var(--brown-text);
    display: block;
    margin-bottom: 2px;
}
.nav-text-box .en {
    font-size: var(--fs-8);
    color: #998877;
    font-family: var(--font-sans);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

/* ==========================================================================
   4. アンケート & クジ機能 (Interactive Survey Banner)
   ========================================================================== */
.survey-section-wrapper {
    max-width: 580px;
    margin: 0 auto;
    padding: 0;
    position: relative;
    z-index: 10;
}

/* Phase 1: 未回答時 */
.survey-banner-card {
    background: #FFFFFF;
    border: 1px dashed var(--gold-main);
    border-radius: 8px;
    padding: 16px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 8px 20px rgba(197, 160, 89, 0.15);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}
.survey-banner-card:active {
    transform: scale(0.98);
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.survey-content { flex: 1; }
.survey-title {
    /* 【修正】ご指定のサイズを適用 */
    font-size: var(--fs-12);
    font-weight: bold;
    color: var(--brown-text);
    margin: 0 0 6px 0;
    line-height: 1.3;
    letter-spacing: 0.05em;
    font-family: var(--font-sans); /* 視認性優先でゴシックへ戻し（セリフ希望なら変更可） */
}
.survey-desc {
    font-size: var(--fs-12);
    color: #887766;
    margin: 0;
    font-family: var(--font-sans);
}

.highlight-pink {
    color: var(--rakuten-red);
    font-weight: bold;
    font-size: var(--fs-13);
    background: none;
    border: none;
}

.survey-icon-anim {
    font-size: var(--fs-28);
    margin-left: 10px;
    color: var(--gold-main);
    animation: floatIcon 3s ease-in-out infinite;
}

/* Phase 2: クジ */
.survey-banner-card.kuji-style {
    background: linear-gradient(135deg, #D4AF37, #F2EBD9, #C5A059);
    border: 1px solid rgba(255,255,255,0.4);
    box-shadow: 0 8px 25px rgba(197, 160, 89, 0.3);
    color: var(--brown-text);
}
.survey-banner-card.kuji-style::after {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
    transform: rotate(30deg);
    animation: shine 6s infinite;
    pointer-events: none;
}

.kuji-title { 
    font-family: var(--font-serif);
    font-size: var(--fs-18); 
    font-weight: bold; 
    margin: 0 0 4px 0;
    text-shadow: 0 1px 0 rgba(255,255,255,0.5);
}
.kuji-desc { 
    font-size: var(--fs-12); 
    margin: 0 0 6px 0; 
    font-weight: 500;
}
.kuji-badge {
    background: var(--brown-text);
    color: #FFF;
    font-size: var(--fs-10);
    padding: 3px 10px;
    border-radius: 20px;
    display: inline-block;
}
.kuji-icon-anim {
    font-size: var(--fs-36);
    animation: bounceSlow 2s infinite;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

/* Phase 3: 完了 */
.survey-banner-card.done-style {
    background: #F9F7F4;
    border: 1px solid #E0D0C0;
    box-shadow: none;
    cursor: default;
    justify-content: center;
    flex-direction: column;
    color: #998877;
}
.kuji-done-text { font-size: var(--fs-12); font-weight: bold; margin-bottom: 5px; }
.kuji-result-badge {
    background: #FFF;
    border: 1px solid var(--gold-main);
    color: var(--gold-main);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: var(--fs-12);
    font-weight: bold;
}

/* selection.css */

/* ==========================================================================
   5. 厳選セレクション / 広告枠 (Special Selection Ad)
   ========================================================================== */
   .special-selection-ad {
    /* ヒーローエリアの影の下に潜り込ませて余白を消す */
    margin-top: -16px; 
    padding-top: 0;
    
    padding-bottom: 24px;
    border-top: none;
    border-bottom: 1px solid #E0E0E0;
    background: linear-gradient(to bottom, #FDFBF7, #FFF8E1);
    overflow: hidden;
    position: relative;
    z-index: 5;
}

.ad-header {
    text-align: center;
    margin-bottom: 24px;
    color: var(--brown-text);
    margin-top: 24px; 
}
.ad-header i { color: var(--gold-main); font-size: var(--fs-18); margin-bottom: 4px; }
.ad-header h3 {
    font-family: var(--font-serif);
    font-size: var(--fs-18);
    margin: 0 0 2px 0;
    position: relative;
    display: inline-block;
}
.ad-header h3::before, .ad-header h3::after {
    content: ""; display: inline-block; width: 20px; height: 1px;
    background: var(--gold-main); vertical-align: middle; margin: 0 8px;
}
.ad-header p { font-size: var(--fs-10); color: #888; margin: 0; }


/* --- カルーセル構造 --- */
.ad-carousel-container {
    width: 100%;
    overflow: hidden;
}
.ad-carousel-track {
    display: flex;
    padding-left: 16px; 
    transition: transform 0.5s ease-in-out;
    width: 100%;
}
.ad-carousel-dots {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 16px;
}
.ad-dot {
    width: 8px; height: 8px; background-color: #DDD; border-radius: 50%; transition: all 0.3s;
}
.ad-dot.active {
    background-color: var(--gold-main); width: 24px; border-radius: 4px;
}


/* --- 【重要】厳選セレクション専用カードスタイル (pickup-style) --- */

/* カード枠 */
.featured-product.pickup-style {
    flex: 0 0 88%;
    width: 88%;
    margin: 0 12px 0 0;
    box-shadow: 0 4px 15px rgba(197, 160, 89, 0.2);
    border: 1px solid rgba(197, 160, 89, 0.4);
    background: linear-gradient(to bottom, #fff, #FDFBF7);
    border-radius: 8px;
    overflow: hidden;
}

/* 画像エリア（16:9に変更して高さを抑える） */
.featured-product.pickup-style .product-image-large {
    position: relative;
    width: 100%;
    aspect-ratio: 16/9; /* ここで高さを圧縮 */
}
.featured-product.pickup-style .product-image-large img {
    width: 100%; height: 100%; object-fit: cover;
}

/* バッジ（左上に移動して重なり防止） */
.featured-product.pickup-style .badge-seniors-best {
    position: absolute;
    top: 0; left: 0; bottom: auto; /* 位置リセット */
    
    width: 56px; height: 56px; /* 少し小さく */
    margin: 8px;
    background: radial-gradient(circle, #FFD700, #DAA520);
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #4A3B32;
    z-index: 5;
}
.featured-product.pickup-style .badge-text { 
    font-family: var(--font-serif); font-weight: bold; font-size: var(--fs-8); line-height: 1; text-align: center; 
}
.featured-product.pickup-style .stars { font-size: var(--fs-7); margin-top: 1px; }

/* 情報エリア（余白を詰める） */
.featured-product.pickup-style .featured-info {
    padding: 16px; /* 24pxから半減 */
}

/* selection.css (Section 5内) */

/* --- カテゴリバッジ（インライン化・色統一） --- */
.featured-product.pickup-style .category-badge {
    display: inline-block;
    margin-bottom: 12px;
    padding: 6px 12px;
    font-size: var(--fs-10);
    line-height: 1;
    border: 1px solid #C5A059;
    border-radius: 6px;
    
    /* 【変更】個別の色をやめ、Heroエリアと同じゴールドに統一 */
    background-color: #FFF; /* var(--gold-main) */
    color:#C5A059;
    
    font-weight: bold;
    font-family: var(--font-sans);
    position: static;
    box-shadow: none;
}

/* 【削除】以下の個別カラー定義は削除（またはコメントアウト）してください */
/* .featured-product.pickup-style .category-badge.cat-food { background-color: #D84315; }
.featured-product.pickup-style .category-badge.cat-activity { background-color: #2E7D32; }
.featured-product.pickup-style .category-badge.cat-brain { background-color: #1565C0; }
*/

/* タイトル */
.featured-product.pickup-style .featured-info h3 {
    font-size: var(--fs-15);
    margin: 0px 0 12px 0;
    line-height: 1.4;
    color: var(--brown-text);
}

/* 編集部コメント */
.featured-product.pickup-style .editor-voice {
    background-color: #F9F9F7;
    border: 1px solid #E0E0E0;
    border-left: 3px solid var(--gold-main);
    border-radius: 4px;
    padding: 8px;
    margin: 0 0 10px 0;
}
.featured-product.pickup-style .ev-header {
    font-size: var(--fs-9); font-weight: bold; color: var(--brown-text); margin-bottom: 2px;
}
.featured-product.pickup-style .ev-text {
    font-size: var(--fs-11); line-height: 1.4; color: #333; margin: 0; text-align: justify;
}

/* 価格・店舗・ボタン */
.featured-product.pickup-style .price-row {
    font-size: var(--fs-18); color: var(--price-red); font-weight: bold; margin-bottom: 4px;
}
.featured-product.pickup-style .shop-name {
    font-size: var(--fs-10); color: #888; margin-bottom: 10px; border-top: none; padding-top: 0;
}
.featured-product.pickup-style .btn-detail {
    padding: 10px; font-size: var(--fs-13);
    background: linear-gradient(to bottom, #D4AF37, #C5A059);
    color: white; text-align: center; border-radius: 4px; font-weight: bold; display: block;
}
.ad-grid-spacing {
    margin-top: 24px; /* カルーセルとの距離 */
}
/* ==========================================================================
   6. カテゴリセクション (Category Sections)
   ========================================================================== */
.category-section {
    padding-bottom: 40px;
    border-top: 1px solid #eee;
}
.category-section.bg-alter { background-color: #FFF; }

.category-header-modern {
    padding: 30px 16px 20px;
    text-align: center;
}
.cat-icon-bg {
    font-size: var(--fs-28);
    display: block;
    margin-bottom: 8px;
}
.category-header-modern h2 {
    font-family: var(--font-serif);
    font-size: var(--fs-20);
    color: var(--brown-text);
    margin: 0 0 4px 0;
}
.cat-sub-en {
    font-size: var(--fs-10);
    color: var(--gold-main);
    letter-spacing: 1px;
    font-family: var(--font-serif);
    font-style: italic;
    margin: 0 0 12px 0;
}
.cat-desc {
    font-size: var(--fs-12);
    color: #666;
    line-height: 1.6;
    margin: 0;
}

/* ==========================================================================
   7. 商品カードスタイル (Product Cards)
   ========================================================================== */
/* 大カード (Featured - カテゴリトップなど) */
.featured-product {
    margin: 0 16px 20px;
    background: #fff;
    border: 1px solid rgba(197, 160, 89, 0.2);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.product-image-large {
    position: relative;
    width: 100%;
    aspect-ratio: 4/3;
}
.product-image-large img { width: 100%; height: 100%; object-fit: cover; }

.badge-seniors-best {
    position: absolute;
    bottom: -15px;
    left: 15px;
    width: 70px;
    height: 70px;
    background: radial-gradient(circle, #FFD700, #DAA520);
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #4A3B32;
    z-index: 5;
}
.badge-text { font-family: var(--font-serif); font-weight: bold; font-size: var(--fs-10); line-height: 1; text-align: center; }
.stars { font-size: var(--fs-9); margin-top: 2px; }

.featured-info { padding: 24px 16px 16px; }
.featured-info h3 {
    font-size: var(--fs-16);
    margin: 0 0 8px 0;
    line-height: 1.4;
    color: var(--brown-text);
}
.featured-desc {
    font-size: var(--fs-12);
    color: #666;
    margin: 0 0 12px 0;
}
.price-row {
    font-size: var(--fs-20);
    color: var(--price-red);
    font-weight: bold;
    margin-bottom: 12px;
}
.price-row .tax { font-size: var(--fs-11); color: #333; font-weight: normal; }
.shop-name {
    font-size: var(--fs-10);
    color: #888;
    margin-bottom: 16px;
    border-top: 1px solid #eee;
    padding-top: 8px;
}
.btn-detail {
    display: block;
    background: linear-gradient(to bottom, #D4AF37, #C5A059);
    color: white;
    text-align: center;
    padding: 12px;
    border-radius: 4px;
    font-weight: bold;
    font-size: var(--fs-14);
    box-shadow: 0 2px 4px rgba(0,0,0,0.15);
}

/* グリッドカード (Grid - 2カラム一覧) */
.product-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    padding: 0 16px;
}
.product-card {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(0,0,0,0.03);
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
}
.p-img { width: 100%; aspect-ratio: 1; }
.p-img img { width: 100%; height: 100%; object-fit: cover; }


/* --- A. 厳選セレクション用（詳細情報あり） --- */
/* コンテンツラッパー(.p-info)がある場合 */
.product-card .p-info {
    padding: 10px;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.product-card .p-info .category-badge {
    display: inline-block;
    font-size: var(--fs-9);
    padding: 4px 8px;
    margin-bottom: 8px;
    border-radius: 6px;
    border: 1px solid #C5A059;
    background-color: white;
    color: #C5A059;
    font-weight: bold;
    font-family: var(--font-sans);
    align-self: flex-start;
}

.product-card .p-info .p-title {
    font-size: var(--fs-13);
    margin: 0 0 12px 0;
    line-height: 1.4;
    color: #333;
    padding: 0;
    height: auto;
    max-height: 2.8em; /* 2行制限 */
    overflow: hidden;
}

.product-card .p-info .editor-voice {
    background: #F9F9F7;
    border: 1px solid #E0E0E0;
    border-left: 2px solid var(--gold-main);
    padding: 6px;
    border-radius: 4px;
    margin-bottom: 8px;
}
.product-card .p-info .ev-text {
    font-size: var(--fs-10); line-height: 1.3; color: #555; margin: 0; text-align: left;
}

.product-card .p-info .p-price {
    font-size: var(--fs-14);
    color: var(--price-red);
    font-weight: bold;
    margin-top: auto; /* 下に寄せる */
    padding: 0;
}

/* お店名（追加） */
.product-card .p-info .p-shop {
    font-size: var(--fs-9);
    color: #999;
    margin-top: 6px;
    padding-top: 6px;
    border-top: 1px solid #eee;
    display: flex;
    align-items: center;
    gap: 4px;
}


/* --- B. 通常カテゴリ用（シンプル表示） --- */
/* .p-info ラッパーがない場合のフォールバック */
.product-card > .p-title {
    font-size: var(--fs-12);
    padding: 8px;
    margin: 0;
    color: #333;
    line-height: 1.4;
    height: 42px; /* 高さ固定でレイアウト維持 */
    overflow: hidden;
}
.product-card > .p-price {
    padding: 0 8px 12px;
    font-size: var(--fs-14);
    color: var(--price-red);
    font-weight: bold;
}
/* selection.css: 商品一覧セクション修正版 */

/* --- セクション全体 --- */
.product-list-section {
    padding-top: 40px;
    padding-bottom: 60px;
    background-color: #fff;
    border-bottom: 1px solid #eee;
}

.list-header {
    text-align: center;
    margin-bottom: 20px;
}
.list-title {
    font-size: var(--fs-18);
    font-weight: bold;
    color: var(--brown-text);
    position: relative;
    display: inline-block;
}
.list-title::before, .list-title::after {
    content: ""; display: inline-block; width: 30px; height: 1px;
    background: var(--gold-main); vertical-align: middle; margin: 0 12px;
}

/* --- フィルタ & ソート コンテナ --- */
/* selection.css: フィルタ & ソート コンテナ (スクロール追従版) */

.filter-sort-container {
    /* 追従設定 */
    position: sticky; /* position: -webkit-sticky; もブラウザによっては必要ですが、モダンブラウザはこれでOK */
    top: 60px; /* ヘッダーの高さ分空ける */
    z-index: 90; /* ヘッダー(100)の下、コンテンツの上 */
    
    /* 見た目の調整 */
    background-color: rgba(255, 255, 255, 0.98); /* ほぼ不透明の白 */
    padding: 12px 16px; /* 上下の余白を確保 */
    margin: 0 0 24px 0; /* 下のマージン */
    box-shadow: 0 4px 10px rgba(0,0,0,0.05); /* 浮いているような影 */
    
    /* 角丸などをリセットして帯状に見せる場合 */
    border-bottom: 1px solid #f0f0f0;
    
    /* 横幅調整（親要素のパディングを無視して画面端まで広げる場合のネガティブマージン対応が必要なら調整） */
    /* 今回は親の .product-list-section が padding-top を持っているので、その内側に配置されます */
}

/* selection.css: フィルタ & ソート (分離・追従版) */

/* ▼ 追従するカテゴリバー */
.category-sticky-bar {
    position: -webkit-sticky; /* Safari用 */
    position: sticky;
    top: 55px; /* ヘッダーの高さに合わせて微調整（少し余裕を持たせる） */
    z-index: 90; /* コンテンツより上、ヘッダーより下 */
    
    /* 見た目の調整 */
    background-color: rgba(255, 255, 255, 0.95); /* 少し透過させて背景となじませる */
    backdrop-filter: blur(5px); /* すりガラス効果でリッチに（対応ブラウザのみ） */
    padding: 12px 16px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08); /* 影を少し柔らかく */
    border-bottom: 1px solid rgba(0,0,0,0.05); /* 薄い境界線を追加 */
    margin: 0 0 20px 0; /* 下の要素との余白 */
}

/* カテゴリチップ（1行・全表示デザインを維持） */
.category-filter-chips {
    display: flex;
    flex-wrap: nowrap;
    gap: 8px;
    justify-content: space-between;
    width: 100%;
    max-width: 500px; /* PCなどで広がりすぎないように制限 */
    margin: 0 auto; /* 中央寄せ */
}

.cat-chip {
    background: #FFFFFF;
    border: 1px solid #E0E0E0;
    border-radius: 24px;
    padding: 10px 4px; /* 上下のパディングを少し増やしてタップしやすく */
    flex: 1;
    justify-content: center;
    font-size: var(--fs-11);
    color: #888;
    cursor: pointer;
    transition: all 0.3s ease; /* トランジションを少し滑らかに */
    display: flex;
    align-items: center;
    gap: 4px;
    white-space: nowrap;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05); /* 通常時もごく薄い影 */
}

.cat-chip:hover {
    border-color: #C5A059;
    color: #C5A059;
    background-color: #FFF9F0; /* ホバー時に薄いゴールド背景 */
}
.cat-chip:hover i { color: #C5A059; }
.cat-chip i { font-size: var(--fs-13); color: #CCC; transition: color 0.3s; }

/* アクティブ状態 */
.cat-chip.active {
    background: #FFFFFF;
    border: 2px solid #4A3B32; /* 枠線を少し太くして強調 */
    color: #4A3B32;
    font-weight: bold;
    box-shadow: 0 4px 12px rgba(74, 59, 50, 0.15); /* 影を強調 */
    transform: translateY(-1px); /* わずかに浮かす */
}
.cat-chip.active i { color: #C5A059; }


/* ▼ 追従しないソートエリア（通常配置） */
.sort-area-standalone {
    display: flex;
    justify-content: flex-end; /* 右寄せ */
    align-items: center;
    padding: 0 16px;
    margin-bottom: 24px; /* 商品リストとの余白を少し広げる */
}

.sort-label {
    font-size: var(--fs-11);
    color: #666; /* 少し濃くして視認性向上 */
    margin-right: 8px;
}

.sort-select {
    border: 1px solid #DDD;
    border-radius: 20px; /* 角丸をチップに合わせて強くする */
    padding: 6px 28px 6px 12px;
    font-size: var(--fs-12); /* フォントサイズを少し大きく */
    color: #333;
    background-color: white;
    cursor: pointer;
    /* ブラウザ標準の矢印をカスタムする場合（任意） */
    /* appearance: none; background-image: url(...); */
}

/* 並び替えエリア (右寄せ) */
.sort-area {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-bottom: 12px; /* フィルタとの間隔 */
}
.sort-label {
    font-size: var(--fs-11);
    color: #888;
    margin-right: 6px;
}
.sort-select {
    border: 1px solid #DDD;
    border-radius: 4px;
    padding: 4px 24px 4px 8px; /* 右パディングは矢印用 */
    font-size: var(--fs-11);
    color: #333;
    background-color: white;
    cursor: pointer;
}

/* selection.css: カテゴリフィルター部分 (横スクロール版) */

/* selection.css: カテゴリフィルター部分 (1行・全表示版) */

/* スクロール領域のコンテナ（今回はスクロールさせないので通常配置に戻す） */
.category-filter-scroll {
    margin: 0 0 16px 0; /* マージンリセット */
    padding: 0;
    width: 100%;
}

/* フィルターリスト本体 */
.category-filter-chips {
    display: flex;
    flex-wrap: nowrap; /* 1行にする */
    gap: 8px; /* 隙間を少し詰める */
    justify-content: space-between; /* 均等に配置 */
    width: 100%;
}

/* チップのデザイン調整 */
.cat-chip {
    background: #FFFFFF;
    border: 1px solid #E0E0E0;
    border-radius: 24px;
    
    /* 【調整】パディングを減らして3つ収める */
    padding: 8px 4px; 
    
    /* 【調整】幅を均等に広げる */
    flex: 1; 
    justify-content: center; /* 中身を中央揃え */
    
    font-size: var(--fs-11); /* 少し小さくして改行を防ぐ */
    color: #888;
    cursor: pointer;
    transition: all 0.2s;
    
    display: flex;
    align-items: center;
    gap: 4px;
    white-space: nowrap;
}

/* ホバー時 */
.cat-chip:hover {
    border-color: #C5A059;
    color: #C5A059;
}
.cat-chip:hover i { color: #C5A059; }

.cat-chip i { font-size: var(--fs-12); color: #CCC; transition: color 0.2s; }

/* アクティブ状態 */
.cat-chip.active {
    background: #FFFFFF;
    border: 1px solid #4A3B32;
    color: #4A3B32;
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(74, 59, 50, 0.1);
}
.cat-chip.active i { color: #C5A059; }


/* --- シンプル版カード情報 (.p-info-simple) --- */
/* 既存の .product-card 内に配置される前提 */

.p-info-simple {
    padding: 10px;
    display: flex;
    flex-direction: column;
    flex: 1; /* 高さ揃えのため */
    justify-content: space-between; /* 上下分散 */
}

/* カテゴリバッジ (テキストのみ) */
/* selection.css: 商品一覧セクション修正版 (続き) */

/* --- シンプル版カード情報 (.p-info-simple) --- */
.p-info-simple {
    padding: 10px;
    display: flex;
    flex-direction: column;
    flex: 1; 
    justify-content: space-between; 
}

/* 【修正】アイコン付きバッジ (.category-badge) をシンプル情報エリアでも使えるようにする */
.p-info-simple .category-badge {
    display: inline-block;
    font-size: var(--fs-9);
    padding: 4px 8px; /* パディングを少し広げる */
    margin-bottom: 8px; /* 下マージン調整 */
    border-radius: 6px; /* 角丸を合わせる */
    border: 1px solid #C5A059;
    background-color: white;
    color: #C5A059;
    font-weight: bold;
    font-family: var(--font-sans);
    align-self: flex-start;
}

/* タイトル */
.p-info-simple .p-title {
    font-size: var(--fs-13);
    line-height: 1.4;
    margin: 0 0 6px 0;
    color: #333;
    height: auto;
    max-height: 2.8em; 
    overflow: hidden;
}

/* (以下、価格やショップ名は変更なしですが、一応記載) */
.p-info-simple .p-price {
    font-size: var(--fs-14);
    font-weight: bold;
    color: var(--price-red);
    margin-top: auto; 
    margin-bottom: 4px;
}
/* ... */
.p-info-simple .p-tax {
    font-size: var(--fs-10);
    font-weight: normal;
    color: #333;
    margin-left: 2px;
}

/* 店舗名 (アイコン付き) */
.p-info-simple .p-shop-simple {
    font-size: var(--fs-10);
    color: #888;
    padding-top: 6px;
    border-top: 1px solid #eee; /* 区切り線 */
    display: flex;
    align-items: center;
    gap: 4px;
    width: 100%;
}
.p-info-simple .p-shop-simple i {
    color: #ccc;
}
/* ==========================================================================
   8. カルーセル (Carousel)
   ========================================================================== */
.carousel-container { padding: 0 0 20px 0; overflow: hidden; }
.carousel-track {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding: 0 16px;
    gap: 12px;
    scrollbar-width: none;
}
.carousel-track::-webkit-scrollbar { display: none; }

.carousel-card {
    flex: 0 0 140px;
    background: white;
    border-radius: 8px;
    border: 1px solid #eee;
    scroll-snap-align: start;
    overflow: hidden;
}
.carousel-card.card-lg {
    flex: 0 0 85%;
    max-width: 320px;
}

.c-img-area { width: 100%; aspect-ratio: 1; }
.carousel-card.card-lg .c-img-area { aspect-ratio: 4/3; }
.c-img-area img { width: 100%; height: 100%; object-fit: cover; }

.c-content { padding: 8px; }
.c-title {
    font-size: var(--fs-11);
    margin: 0 0 4px 0;
    line-height: 1.3;
    height: 30px;
    overflow: hidden;
}
.c-price { font-size: var(--fs-13); color: var(--price-red); font-weight: bold; }
.c-unit { font-size: var(--fs-10); font-weight: normal; color: #333; }
.carousel-card.card-lg .c-desc {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    font-size: var(--fs-11);
    color: #666;
    margin: 4px 0 8px;
    line-height: 1.5;
}

/* ==========================================================================
   9. モーダル (Modals)
   ========================================================================== */
.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
}
.modal-card {
    background: white;
    width: 100%;
    max-width: 360px;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.modal-header {
    background: var(--brown-text);
    color: #F2EBD9;
    padding: 14px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.modal-header h3 { 
    font-size: var(--fs-14); margin: 0; font-weight: bold; 
    font-family: var(--font-serif);
    letter-spacing: 0.05em;
}
.btn-close-modal {
    background: none; border: none; color: white; font-size: 20px; cursor: pointer;
}
.modal-body { padding: 20px; }
.q-title { 
    font-size: var(--fs-16); font-weight: bold; margin-bottom: 16px; 
    color: var(--brown-text);
    font-family: var(--font-serif);
    border-bottom: 1px solid var(--gold-main);
    padding-bottom: 10px;
    margin-bottom: 20px;
}
.option-list { display: flex; flex-direction: column; gap: 10px; }
.btn-option {
    background: white;
    border: 1px solid #E0E0E0;
    padding: 12px;
    border-radius: 8px;
    text-align: left;
    font-size: var(--fs-14);
    color: #333;
    cursor: pointer;
    transition: all 0.2s;
}
.btn-option:hover {
    background: var(--bg-beige);
    border-color: var(--gold-main);
    color: var(--brown-text);
}

.modal-kuji-container { width: 100%; text-align: center; }
.kuji-status-text { color: white; font-size: var(--fs-20); font-weight: bold; margin-bottom: 20px; }
.kuji-spinner {
    width: 120px; height: 120px;
    margin: 0 auto 20px;
    background: linear-gradient(135deg, #FFD600, #F72585);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    animation: spinSlow 3s linear infinite;
    box-shadow: 0 0 20px rgba(247, 37, 133, 0.5);
}
.kuji-emoji { font-size: var(--fs-50); animation: bounceSlow 1s infinite; }
.kuji-wait-text { color: white; animation: pulse 1s infinite; font-size: var(--fs-12); }

.result-card {
    background: white;
    border-radius: 16px;
    padding: 24px;
    width: 100%;
    max-width: 320px;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
    animation: popIn 0.5s;
    border-top: 4px solid var(--gold-main);
}
.result-bar {
    position: absolute; top: 0; left: 0; width: 100%; height: 6px;
    background: var(--gold-main); opacity: 0.5;
}
.congrats-text { 
    color: var(--gold-main); font-size: var(--fs-12); font-weight: bold; 
    letter-spacing: 3px; margin-bottom: 4px; 
}
.result-rank { font-size: var(--fs-28); font-weight: 900; color: #333; margin: 0 0 10px; }
.result-emoji { font-size: var(--fs-60); margin-bottom: 16px; }
.coupon-box {
    background: #FAFAFA;
    border: 2px dashed #F72585;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 20px;
}
.coupon-label { font-size: var(--fs-11); font-weight: bold; color: #666; }
.coupon-value { font-size: var(--fs-28); font-weight: 900; color: var(--price-red); margin: 4px 0; }
.btn-use-coupon {
    width: 100%;
    background: linear-gradient(to bottom, #D4AF37, #C5A059);
    color: white;
    border: none;
    padding: 12px;
    border-radius: 8px;
    font-weight: bold;
    font-size: var(--fs-14);
    box-shadow: 0 4px 10px rgba(197, 160, 89, 0.4);
}

/* ==========================================================================
   10. アニメーション (Animations)
   ========================================================================== */
@keyframes bounceSlow {
    0%, 100% { transform: translateY(-5%); }
    50% { transform: translateY(5%); }
}
@keyframes pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}
@keyframes spinSlow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
@keyframes popIn {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}
@keyframes floatIcon {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
}
@keyframes shine {
    0% { transform: translateX(-200%) rotate(30deg); }
    20% { transform: translateX(200%) rotate(30deg); }
    100% { transform: translateX(200%) rotate(30deg); }
}

/* ==========================================================================
   11. その他UI (Misc)
   ========================================================================== */
.btn-more {
    display: block;
    margin: 20px auto 0;
    background: white;
    border: 1px solid var(--brown-text);
    color: var(--brown-text);
    padding: 10px 30px;
    border-radius: 20px;
    font-size: var(--fs-12);
}
.app-promotion {
    background: #fff;
    padding: 40px 16px;
    text-align: center;
    border-top: 1px solid #eee;
}
.promo-text { font-weight: bold; color: var(--rakuten-red); margin-bottom: 16px; }
.store-badges { display: flex; justify-content: center; gap: 10px; }
.badge-store {
    background: black;
    color: white;
    padding: 8px 16px;
    border-radius: 4px;
    font-size: var(--fs-10);
    display: flex;
    align-items: center;
    gap: 6px;
}
/* selection.css: 末尾に追加 */

/* ==========================================================================
   12. 注意事項セクション (Notes Section)
   ========================================================================== */
   .notes-section {
    background-color: #F9F9F9; /* 薄いグレー */
    margin-bottom: 0; /* 下のセクションと繋げる */
    padding-bottom: 40px;
}

.notes-header {
    background-color: #666; /* 濃いグレー */
    color: white;
    text-align: center;
    font-weight: bold;
    padding: 12px;
    font-size: var(--fs-16);
    margin-bottom: 24px;
}

.notes-content {
    padding: 0 16px;
    text-align: center;
}

.btn-notes-toggle {
    display: block;
    width: 100%;
    max-width: 320px;
    margin: 0 auto 20px;
    background: #EEE;
    border: none;
    border-radius: 24px; /* 丸みのあるボタン */
    padding: 12px;
    font-size: var(--fs-14);
    font-weight: bold;
    color: #333;
    cursor: pointer;
}

.notes-list {
    list-style: none;
    padding: 0;
    margin: 0 auto;
    max-width: 90%;
    text-align: left;
}

.notes-list li {
    font-size: var(--fs-12);
    color: #333;
    line-height: 1.6;
    margin-bottom: 8px;
    text-indent: -1em;
    padding-left: 1em;
}


/* ==========================================================================
   13. SNSシェアセクション (Share Section)
   ========================================================================== */
.sns-share-section {
    background: white;
    padding: 40px 16px 60px; /* 下に余裕を持たせる */
    text-align: center;
    border-top: 1px solid #eee;
}

.share-title {
    font-size: var(--fs-16);
    color: #333;
    margin-bottom: 24px;
    letter-spacing: 1px;
}

.share-buttons {
    display: flex;
    justify-content: center;
    gap: 24px; /* アイコン間の距離 */
}

.share-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: var(--fs-24);
    text-decoration: none;
    transition: opacity 0.2s;
}
.share-btn:hover { opacity: 0.8; }

/* 各SNSのブランドカラー */
.share-btn.line { background-color: #06C755; }
.share-btn.facebook { background-color: #1877F2; }
.share-btn.x-twitter { background-color: #000000; font-size: var(--fs-20); }

/* selection.css: Heroエリア下の「もっと見る」ボタン周辺の修正 */

/* このセクションの背景や余白をリセット/調整 */
.special-selection-ad.hero-more-link-area {
    background: transparent; /* 背景を透明に（親のグラデーションを見せる） */
    border-bottom: none; /* 境界線を消す */
    padding-bottom: 16px; /* 下の要素との距離を適切に */
    margin-top: 0; /* 必要に応じて調整 */
    margin-bottom: 0;
}

/* ボタン自体のスタイル調整 */
.btn-more.btn-more-hero {
    margin-top: 20px; /* カルーセルとの距離 */
    background-color: rgba(255, 255, 255, 0.9); /* 少し透過した白で軽やかに */
    border: 1px solid rgba(197, 160, 89, 0.5); /* ゴールドの枠線 */
    color: var(--brown-text);
    font-weight: bold;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* 浮き出し効果 */
    
    /* 横幅を広げすぎないように調整 */
    max-width: 300px;
    width: 90%;
}

/* ホバー時の挙動 */
.btn-more.btn-more-hero:hover {
    background-color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(197, 160, 89, 0.2);
}